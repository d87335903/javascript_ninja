<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript核心（晋级高手必读篇）</title>
    <script type="text/javascript" charset="UTF-8">
        //对象Object
       /* var foo = {
            x:10,
            y:20
        };*/
        //上述代码foo对象有两个显式的属性[explicit own properties]
        //和一个自带隐式的 __proto__ 属性[implicit __proto__ property]，指向foo的原型


        //原型链（Prototype chain）
        //A prototype chain is a finite chain of objects which is used to
        //implemented inheritance and shared properties.
        //原型链是一个由对象组成的有限对象链由于实现继承和共享属性。
        //对象类"a",对象"b",对象"c"
        /*var a = {
            x:10,
            calculate:function(z){
                return this.x + this.y + z;
            }
        };

        var b = {
            y:20,
            __proto__:a
        };

        var c = {
            y:30,
            __proto__:a
        };

        //调用继承过来的方法
        console.log(b.calculate(30));//60
        console.log(c.calculate(40));//80*/


        //构造函数(Constructor)
        function Foo(y){
            //构造函数将会以特定模式创建对象：被创建的对象都会有"y"属性
            this.y = y;
        }

        // "Foo.prototype"存放了新建对象的原型引用
        // 所以我们可以将之用于定义继承和共享属性或方法
        // 所以，和上例一样，我们有了如下代码：

        //继承属性"x"
        Foo.prototype.x = 10;

        //继承方法"calculate"
        Foo.prototype.calculate=function(z){
            return this.x + this.y + z;
        }

        //使用foo模式创建 "b" and "c"
        var b = new Foo(20);
        var c = new Foo(30);

        //调用继承的方法
        console.log(b.calculate(30));
        console.log(c.calculate(40));
        //让我们看看是否使用了预期的属性
        console.log(b.__proto__===Foo.prototype);
        console.log(c.__proto__===Foo.prototype);
        console.log(b.constructor === Foo);
        console.log(c.constructor === Foo);
        console.log(Foo.prototype.constructor === Foo);
        console.log(b.calculate===b.__proto__.calculate);
        console.log(b.__proto__.calculate === Foo.prototype.calculate);
        console.log(Foo.__proto__.constructor);
        console.log(Foo.prototype.constructor);
        console.log(c.prototype);//undefined
        console.log(b.prototype);//undefined

        //执行上下文栈(Execution Context Stack)
        function foo(bar){}
        //

        //执行上下文(Execution Context)
        //变量对象(Variable Object)
        //活动对象(activation object)
        //作用域链(Scope Chains)
        //闭包(Closures)
        //This指针
        //总结(Conclusion)
    </script>
</head>
<body>
</body>
</html>
