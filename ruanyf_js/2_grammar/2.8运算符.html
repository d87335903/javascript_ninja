<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>运算符</title>
<script type="text/javascript">
//1加法运算符
window.onload = function(){
	'1' + {foo: 'bar'} // "1[object Object]"
	'1' + 1 // "11"
	'1' + true // "1true"
	'1' + [1] // "11"
	//window.alert(1 + );
	 1 - '2' // -1
	 1 * '2' // 2
	 1 / '2' // 0.5
	 var now = new Date();
	 window.alert(typeof (now + 1));//'string'
	 window.alert(typeof (now - 1));//'number'
};
//2算术运算符
window.onload = function(){
	window.alert(-1 % 2);//-1
	window.alert(1 % -2);//1
	//为了得到正确的负数的余数值，需要先使用绝对值函数。
	// 错误的写法
	function isOdd(n){
		return n % 2 === 1;
	}
	window.alert(isOdd(-5));//false
	window.alert(isOdd(-4));//false
	// 正确的写法
	function isOdd(n){
		return Math.abs(n % 2) === 1;
	}
	window.alert(isOdd(-5));//true
	window.alert(isOdd(-4));//false
	
	//数值运算符，负数值运算符
	+true // 1
    +[] // 0
    +{} // NaN
    //数值运算符号和负数值运算符，都会返回一个新的值，而不会改变原始变量的值。
};
//3赋值运算符
//4比较运算符
window.onload = function(){
	5 > '4' // true
	// 等同于 5 > Number('4')
	// 即 5 > 4

	true > false // true
	// 等同于 Number(true) > Number(false)
	// 即 1 > 0

	2 > true // true
	// 等同于 2 > Number(true)
	// 即 2 > 1
	
	var x = [2];
	x > '11' // true
	// 等同于 [2].valueOf().toString() > '11'
	// 即 '2' > '11'
	
	x.valueOf = function () { return '1' };
	x > '11' // false
	// 等同于 [2].valueOf() > '11'
	// 即 '1' > '11'
	
	//两个对象之间的比较也是如此。
	[2] > [1] // true
	// 等同于 [2].valueOf().toString() > [1].valueOf().toString()
	// 即 '2' > '1'
	
	[2] > [11]; // true
	// 等同于 [2].valueOf().toString() > [11].valueOf().toString()
	// 即 '2' > '11'
	
	{x: 2} >= {x: 1}; // true
	// 等同于 {x: 2}.valueOf().toString() >= {x: 1}.valueOf().toString()
	// 即 '[object Object]' >= '[object Object]'
	
	//相等运算符
	//（1）原始类型的值
	//（2）对象与原始类型值比较
};
//5布尔运算符
window.onload = function(){
	!!x
	// 等同于
	Boolean(x);
	//两次取反就是将一个值转为布尔值的简便写法
	//且运算符（&&）
	//且运算符的运算规则是：如果第一个运算子的布尔值为true，则返回第二个运算子的值（注意是值，不是布尔值）
	't' && '' // ""
	't' && 'f' // "f"
	't' && (1 + 2) // 3
	'' && 'f' // ""
	'' && '' // ""
	//有些程序员喜欢用它取代if结构，比如下面是一段if结构的代码，就可以用且运算符改写。
	if(i){
		doSomething();
	}
	//等价于
	i && doSomething();
	//或运算符（||）
	//或运算符常用于为一个变量设置默认值
	function saveText(text){
		text = text || '';
		//...
	}
	saveText(this.text || '');
	//三元条件运算符（?:）  			
}；
//6位运算符
window.onload = function(){
	function toInt32(x){
		return x | 0;
	}
};
//7其他运算符
window.onload = function(){
	//7.1void运算符
	var x = 3;
    void (x = 5) //undefined
    x // 5
    function f(){
    	//some code
    	return false;
    }
    //7.2逗号运算符
    'a', 'b' // "b"

	var x = 0;
	var y = (x++, 10);
	x // 1
	y // 10
};
//8运算顺序
window.onload = function(){
	//圆括号不是运算符，而是一种语法结构。它一共有两种用法：一种是把表达式放在圆括号之中，提升运算的优先级；
	//另一种是跟在函数的后面，作用是调用函数
	//左结合与右结合
	//这叫做运算符的“右结合”（right-to-left associativity）。其中，最主要的是赋值运算符（=）和三元条件运算符（?:）
	w = x = y = z;
	q = a ? b : c ? d : e ? f : g;
	//上面代码的运算结果，相当于下面的样子。
	w = (x = (y = z));
	q = a ? b : (c ? d : (e ? f : g));
};
//9参考链接
</script>
</head>
<body>
<a href="javascript:void window.open('http://example.com/')">
  点击打开新窗口
</a>
<a href="http://example.com" onclick="f();">文字</a>
<a href="http://example.com" onclick="f();return false;">文字</a>
<a href="javascript: void(f())">文字</a>
<a href="javascript: void(document.form.submit())">
文字</a>
</body>
</html>
