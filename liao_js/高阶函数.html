<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>高阶函数</title>
    <script type="text/javascript" charset="UTF-8">
        //高阶函数(high-order-function)
        //编写高阶函数，就是让函数的参数能够接收别的函数
        function add(x,y,f){
            return f(x) + f(y);
        }
        //console.log(add(5,-6,Math.abs));
        function pow(x){
            return x * x;
        }

        //map
        var arr = [1,2,3,4,5,6,7,8,9];
        console.log(arr.map(pow));

        var f = function(x){
            return x * x;
        }
        var arr = [1,2,3,4,5,6,7,8,9];
        var result = [];
        for(var i= 0;i< arr.length;i++){
            result.push(f(arr[i]));
        }
        console.log(result);

        var arr = [1,2,3,4,5,6,7,8,9];
        console.log(arr.map(String));//['1', '2', '3', '4', '5', '6', '7', '8', '9']

        //reduce
        var arr = [2,3,5,7,9];
        console.log(arr.reduce(function(x,y){
            return x * y;
        }));

        var arr = [1,3,5,7,9];
        console.log(arr.reduce(function(x,y){
            return 10 * x + y;
        }));

        var arr = ['1', '2', '3'];
        var r;
        r = arr.map(function(i){
            return +i;
        });
        r = arr.map(parseInt);
        console.log(r);

        var arr = [1,2,3,4,5,6,7,8,9];
        var r = arr.filter(function(x){
            return x % 2 != 0;
        });
        console.log(r);

        var arr = ['A', '', 'B', null, undefined, 'C', '  '];
        var r = arr.filter(function(s){
             return s && s.trim();
        });
        console.log(r);

        //可见用filter()这个高阶函数，关键在于正确实现一个“筛选”函数

       //sort排序算法
        console.log(['Google','Apple',"Microsoft"].sort());
        console.log(['Google','apple',"Microsoft"].sort());
        console.log([10,20,1,2].sort());
        var arr = ['Google','apple',"Microsoft"];
        console.log(arr.sort(function(x,y){
            x = x.toUpperCase();
            y = y.toUpperCase();
            if(x < y){
                return -1;
            }else if(x > y){
                return 1;
            }
            return 0;
        }));

        var arr = ['B','A','C'];
        var a2 = arr.sort();
        console.log(arr);
        console.log(a2);
        console.log(arr === a2);//true
        //sort()方法会直接对Array进行修改，它返回的结果仍是当前Array
    </script>
</head>
<body>
</body>
</html>
