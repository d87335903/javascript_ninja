<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON</title>
</head>
<body>
<script type="text/javascript"charset="UTF-8">
//JSON的字符串规定必须用双引号""
//Object的键也必须用双引号""
//序列化(javascript对象序列成json字符串)
var xiaoming={
    name:"小明",
    age:14,
    gender:true,
    height:1.65,
    grade:null,
    'middle-school':'\"W3C\" Middle School',
     skills:['javascript','java','python','go','scala','ruby','php']
};//javascript对象
console.log(typeof xiaoming);//object
console.log(typeof  JSON.stringify(xiaoming));//string
console.log(JSON.stringify(xiaoming));
console.log(JSON.stringify(xiaoming,['name','age'],''));
function convert(key,value){
    if(typeof value === "string"){
        return value.toUpperCase();//把所有属性值变成大写
    }
    return value;
}
console.log(JSON.stringify(xiaoming,convert,''));

var xiaoming={
    name:"小明",
    age:14,
    gender:true,
    height:1.65,
    grade:null,
    'middle-school':'\"W3C\" Middle School',
    skills:['javascript','java','python','go','scala','ruby','php'],
    toJSON:function(){
        return {
            "Name":this.name,
            'Age':this.age
        }
    }
};//javascript对象
console.log(JSON.stringify(xiaoming));// '{"Name":"小明","Age":14}

//反序列化(json字符串反序列化成javascript对象)
//拿到一个JSON格式的字符串,我们直接调用JSON.parse()把他变成javascript对象
console.log(JSON.parse('[1,2,3,true]'));
console.log(typeof JSON.parse('[1,2,3,true]'));
console.log(JSON.parse('true'));
console.log(typeof JSON.parse('true'));
console.log(JSON.parse('123.45'));
console.log(typeof JSON.parse('123.45'));

console.log(JSON.parse('{"name":"小明","age":14}',function(key,value){
     if(key === 'name'){
         return value + '同学';
     }
     return value;
}))
</script>
</body>
</html>
